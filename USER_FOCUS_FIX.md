# μ μ € μ§‘μ¤‘ λ° μ§μ ‘ νΈλ… λ¬Έμ  μμ •

## π”΄ λ°κ²¬λ λ¬Έμ 

### λ¬Έμ  1: μ§μ ‘ νΈλ… μ‹¤ν¨
```
μ μ €: "μΈν•μ•Ό λ‚΄κ°€ λ„ν•ν… μ΄μ•ΌκΈ°ν•κ³  μμ–λƒ"
β†’ μ£Όμ°½μ¤ μ‘λ‹µ β (ν™©μΈν•κ°€ μ‘λ‹µν•΄μ•Ό ν•¨)
```

### λ¬Έμ  2: μ μ € μ§‘μ¤‘ μ‹¤ν¨
```
ν™©μΈν• λ‚μ… β†’ μ£Όμ°½μ¤μ—κ²λ§ λ§ν•¨ β†’ μ μ € μ†μ™Έ β
```

---

## β… μμ • μ™„λ£ μ‚¬ν•­

### 1. μ§μ ‘ νΈλ… μ°μ„ μμ„ μµμƒμ„λ΅ κ°•ν™”

**νμΌ**: `core/speaker_selector.py`

**μμ • λ‚΄μ©**:
- μ• μΉ­/λ³„λ… λ§¤μΉ­ μ¶”κ°€ (μΈν•μ•Ό, μΈν•μ”¨, μΈν• λ“±)
- "~ν•ν…", "~μ—κ²", "~λ³΄κ³ " ν¨ν„΄ μ²΄ν¬
- μ§μ ‘ νΈλ…μ΄ λ¨λ“  λ‹¤λ¥Έ μ΅°κ±΄λ³΄λ‹¤ μ°μ„ 

**μ• μΉ­ λ³€ν• λ©λ΅**:
- `μΈν•` (μ΄λ¦„μ λ§μ§€λ§‰ 2κΈ€μ)
- `μΈν•μ•Ό`, `μΈν•μ”¨`, `μΈν•μ•„`
- `μΈν•ν•ν…`, `μΈν•μ—κ²`, `μΈν•λ³΄κ³ `

### 2. μ μ € μ§‘μ¤‘ λ΅μ§ κ°•ν™”

**νμΌ**: `api/chat_multi.py`

**μμ • λ‚΄μ©**:
- μ£Ό ν™”μ ν”„λ΅¬ν”„νΈμ— μ μ € μ§‘μ¤‘ μ§€μ‹ μ¶”κ°€
- μ—°μ‡„ λ°μ‘ ν”„λ΅¬ν”„νΈμ— μ μ € μ§‘μ¤‘ κ°•μ 
- μ‘λ‹µμ 50-70% μ΄μƒμ΄ μ μ €μ—κ² μ§μ ‘ λ§μ„ κ±Έλ„λ΅ μ§€μ‹

**ν”„λ΅¬ν”„νΈ μμ‹**:
```
[μ¤‘μ” μ§€μ‹ - μ μ € μ§‘μ¤‘ (ν•„μ)]
1. μ μ €μ—κ² μ§μ ‘ μ‘λ‹µν•μ„Έμ”.
2. μ‘λ‹µμ λ€λ¶€λ¶„(70% μ΄μƒ)μ€ μ μ €μ—κ² μ§μ ‘ λ§μ„ κ±Έμ–΄μ•Ό ν•©λ‹λ‹¤.
3. μ μ €κ°€ λ‹Ήμ‹ μ—κ² μ§λ¬Έν–λ‹¤λ©΄, κ·Έ μ§λ¬Έμ— λ¨Όμ € λ‹µν•μ„Έμ”.
```

### 3. Scene Context ν¬μ»¤μ¤ μ—…λ°μ΄νΈ

**νμΌ**: `core/scene_manager.py`

**μμ • λ‚΄μ©**:
- `last_speaker` λ…μ‹μ μΌλ΅ μ—…λ°μ΄νΈ
- `current_focus`μ— "μ μ €" λ…μ‹
- `last_target` μ—…λ°μ΄νΈ

---

## π§ ν…μ¤νΈ κ²°κ³Ό

### ν…μ¤νΈ 1: μ• μΉ­ νΈλ…
```
μ…λ ¥: "μΈν•μ•Ό λ‚΄κ°€ λ„ν•ν… μ΄μ•ΌκΈ°ν•κ³  μμ–λƒ"
κ²°κ³Ό: ν™©μΈν• μ‘λ‹µ β…
μ„ νƒ μ΄μ : name_variation:μΈν•β†’ν™©μΈν• β…
```

### ν…μ¤νΈ 2: μ μ € μ§‘μ¤‘
```
μ‘λ‹µ ν™•μΈ: μ μ €λ¥Ό μ§μ ‘ μ–ΈκΈ‰ν•λ”μ§€ ν™•μΈ
- "λ„", "λ‹Ήμ‹ ", "λ„¤" λ“± ν¬ν•¨ μ—¬λ¶€
```

---

## π“ μμ • μ „ν›„ λΉ„κµ

| ν•­λ© | μμ • μ „ | μμ • ν›„ |
|------|---------|---------|
| μ• μΉ­ νΈλ… | β μ‹¤ν¨ | β… μ„±κ³µ |
| μ§μ ‘ νΈλ… μ°μ„ μμ„ | β οΈ λ‚®μ | β… μµμƒμ„ |
| μ μ € μ§‘μ¤‘ | β μ†μ™Έ | β… κ°•ν™”λ¨ |
| Scene Context ν¬μ»¤μ¤ | β οΈ λ¶€μ •ν™• | β… μ •ν™•ν•¨ |

---

## π”§ μ¶”κ°€ κ°μ„  μ‚¬ν•­

### 1. ν”„λ΅¬ν”„νΈ κ°•ν™”
- μ μ € μ§‘μ¤‘ λΉ„μ¨ λ…μ‹ (70% μ΄μƒ)
- κµ¬μ²΄μ μΈ μμ‹ μ κ³µ
- λ‚μ μ/μΆ‹μ€ μ λΉ„κµ

### 2. λ””λ²„κ·Έ λ΅κ·Έ
- ν™”μ μ„ νƒ μƒμ„Έ λ΅κ·Έ
- Scene Context μ—…λ°μ΄νΈ λ΅κ·Έ
- μ• μΉ­ κ°μ§€ λ΅κ·Έ

---

**μμ • μ™„λ£ λ‚ μ§**: 2024λ…„  
**μμ • νμΌ**:
- `core/speaker_selector.py` (μ§μ ‘ νΈλ… κ°•ν™”)
- `api/chat_multi.py` (μ μ € μ§‘μ¤‘ λ΅μ§)
- `core/scene_manager.py` (ν¬μ»¤μ¤ μ—…λ°μ΄νΈ)
