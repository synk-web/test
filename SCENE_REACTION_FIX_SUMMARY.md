# μ”¬ λ¦¬μ•΅μ… μ‹μ¤ν… μμ • μ™„λ£ μ”μ•½

## β… μμ • μ™„λ£ μ‚¬ν•­

### 1. μ§μ ‘ νΈλ… κ°μ§€ κ°•ν™” β…

**νμΌ**: `core/scene_reaction.py`

- μ• μΉ­ λ§¤μΉ­ μ¶”κ°€ (μΈν•μ•Ό, μΈν•μ”¨, μΈν•μ•„ λ“±)
- λ””λ²„κ·Έ λ΅κ·Έ μ¶”κ°€

### 2. "λ¨λ‘" νΈλ¦¬κ±° λ΅μ§ κ°μ„  β…

**νμΌ**: `core/scene_reaction.py`

- μ§μ ‘ νΈλ…λ μΊλ¦­ν„°λ” λ¬΄μ΅°κ±΄ main
- recent μΊλ¦­ν„°λ” mainμΌλ΅ μ²λ¦¬

### 3. Scene Context μ—…λ°μ΄νΈ λ²”μ„ ν™•λ€ β…

**νμΌ**: `api/chat_multi.py`

- λ©”μΈ μ‘λ‹µμλΏλ§ μ•„λ‹λΌ μ„λΈ λ¦¬μ•΅μ…, λ¬΄λ°μ‘ μΊλ¦­ν„°λ„ μ†λ§μ μ—…λ°μ΄νΈ

### 4. ν”„λ΅ νΈμ—”λ“ μ”¬ λ¦¬μ•΅μ… UI μ¶”κ°€ β…

**νμΌ**: `static/index.html`

- λ©”μΈ μ‘λ‹µ ν‘μ‹ (μμ°¨μ )
- μ„λΈ λ¦¬μ•΅μ… ν¨λ„ μ¶”κ°€ ("π’­ μ£Όλ³€ λ°μ‘")
- CSS μ¤νƒ€μΌ μ¶”κ°€

### 5. API μ¤λ¥ μμ • β…

**νμΌ**: `api/chat_multi.py`

- `tension` β†’ `tension_level` μμ •
- `mood` β†’ `current_mood` μμ •

---

## π§ ν…μ¤νΈ λ°©λ²•

### ν…μ¤νΈ 1: "λ¨λ‘" νΈλ¦¬κ±°

```
μ…λ ¥: "μ•Ό λ„ν¬λ“¤ λ“¤μ–΄λ΄"
μμƒ:
- main_responses: 2λ… μ΄μƒ (recent μΊλ¦­ν„°λ“¤)
- sub_reactions: λ‚λ¨Έμ§€ μΊλ¦­ν„°λ“¤
- no_reaction: κ΄€μ‹¬ μ—†λ” μΊλ¦­ν„°
```

### ν…μ¤νΈ 2: μ§μ ‘ νΈλ…

```
μ…λ ¥: "ν‘λ‹¤μ€! λ„ μ£Όμ°½μ¤ μΆ‹μ•„ν•΄?"
μμƒ:
- main_responses: ν‘λ‹¤μ€ (μ§μ ‘ νΈλ…)
- sub_reactions: λ‚λ¨Έμ§€
```

---

## π“ μ„λ²„ λ΅κ·Έ ν™•μΈ

μ„λ²„ λ΅κ·Έμ—μ„ λ‹¤μμ„ ν™•μΈν•  μ μμµλ‹λ‹¤:

```
[Scene Reaction] λ°μ‘ λ²”μ„: all (λ©”μ‹μ§€: 'μ•Ό λ„ν¬λ“¤ λ“¤μ–΄λ΄')
[Scene Reaction] μ§μ ‘ νΈλ… κ°μ§€: 'ν‘λ‹¤μ€'
[Scene Reaction] μ£Όμ°½μ¤: main (μ§μ ‘ νΈλ…: False)
[Scene Reaction] ν™©μΈν•: reaction (μ§μ ‘ νΈλ…: False)
...
```

---

## π” λ¬Έμ  ν•΄κ²° μ²΄ν¬λ¦¬μ¤νΈ

- β… μ§μ ‘ νΈλ… κ°μ§€ κ°•ν™”
- β… "λ¨λ‘" νΈλ¦¬κ±° λ΅μ§ κ°μ„ 
- β… Scene Context μ—…λ°μ΄νΈ λ²”μ„ ν™•λ€
- β… ν”„λ΅ νΈμ—”λ“ UI μ¶”κ°€
- β… API μ¤λ¥ μμ • (tension, mood)

---

**μμ • μ™„λ£ λ‚ μ§**: 2024λ…„
