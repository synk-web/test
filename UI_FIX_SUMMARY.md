# UI í‘œì‹œ ë¬¸ì œ ìˆ˜ì • ìš”ì•½

## ğŸ”´ ë¬¸ì œ ìƒí™©

1. **ì±„íŒ…ì°½ì— ë©”ì‹œì§€ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ**
   - ì£¼ì°½ìœ¤ì´ ì‘ë‹µí–ˆëŠ”ë° ì±„íŒ…ì°½ì— í‘œì‹œë˜ì§€ ì•ŠìŒ
   - í˜„ì¬ ëŒ€í™”ëŠ” "ê³ ì„ í•˜ì™€ ìœ ì €ì˜ ëŒ€í™”"ë¼ê³  í‘œì‹œë˜ì§€ë§Œ ì±„íŒ…ì°½ì´ ë¹„ì–´ìˆìŒ

2. **ëª¨ë“  ìºë¦­í„°ê°€ ìƒê°ë€ì—ë§Œ í‘œì‹œë¨**
   - ì±„íŒ…ì°½ì— ë©”ì‹œì§€ê°€ ì—†ê³  Scene Dashboardì˜ ìƒê°ë€ì—ë§Œ í‘œì‹œë¨

## âœ… ìˆ˜ì • ì‚¬í•­

### 1. í”„ë¡ íŠ¸ì—”ë“œ ìˆ˜ì • (`static/index.html`)

**ë¬¸ì œ**: `main_responses`ê°€ ìˆì–´ë„ ì±„íŒ…ì°½ì— í‘œì‹œë˜ì§€ ì•ŠìŒ

**ìˆ˜ì •**:
- `main_responses`ë¥¼ ìµœëŒ€ 3ëª…ê¹Œì§€ë§Œ ì±„íŒ…ì°½ì— í‘œì‹œí•˜ë„ë¡ ìˆ˜ì •
- í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€ (`character_response` í•„ë“œë„ ì²˜ë¦¬)

```javascript
// ìµœëŒ€ 3ëª…ê¹Œì§€ë§Œ ì±„íŒ…ì°½ì— í‘œì‹œ
const mainToShow = data.main_responses.slice(0, 3);
mainToShow.forEach((mainResp, index) => {
    setTimeout(() => {
        addMessage('character', mainResp.message, mainResp.character_name, ...);
    }, index * 200);
});
```

### 2. ë°˜ì‘ íƒ€ì… ê²°ì • ë¡œì§ ê°œì„  (`core/scene_reaction.py`)

**ë¬¸ì œ**: selective ë²”ìœ„ì—ì„œ recent ìºë¦­í„°ê°€ reactionìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ ì±„íŒ…ì°½ì— í‘œì‹œë˜ì§€ ì•ŠìŒ

**ìˆ˜ì •**:
- selective ë²”ìœ„ì—ì„œë„ recent ìºë¦­í„°ëŠ” mainìœ¼ë¡œ ì²˜ë¦¬
- ì±„íŒ…ì°½ì— í‘œì‹œë  ìºë¦­í„° ìˆ˜ë¥¼ 2~3ëª…ìœ¼ë¡œ ì œí•œ

```python
# 4. selective ë²”ìœ„ì—ì„œ recent ìºë¦­í„°ëŠ” main (ìµœëŒ€ 1~2ëª…)
if reaction_scope == "selective":
    if scene_context and character_id in scene_context.character_states:
        state = scene_context.character_states[character_id]
        if state.recent:
            # recent ìºë¦­í„°ëŠ” mainìœ¼ë¡œ (ì±„íŒ…ì°½ì— í‘œì‹œ)
            return "main"
```

## ğŸ¯ ë™ì‘ ë°©ì‹

### ì±„íŒ…ì°½ í‘œì‹œ (main_responses)
- **ìµœëŒ€ 2~3ëª…**ì´ ì±„íŒ…ì°½ì— ë©”ì‹œì§€ í‘œì‹œ
- ì§ì ‘ í˜¸ëª…ëœ ìºë¦­í„° ìš°ì„ 
- recent ìºë¦­í„° ìš°ì„ 
- ìˆœì°¨ì ìœ¼ë¡œ í‘œì‹œ (200ms ê°„ê²©)

### ìƒê°ë€ í‘œì‹œ (sub_reactions)
- ë‚˜ë¨¸ì§€ ìºë¦­í„°ë“¤ì€ "ğŸ’­ ì£¼ë³€ ë°˜ì‘" íŒ¨ë„ì— í‘œì‹œ
- ì§§ì€ ë°˜ì‘ (1~2ë¬¸ì¥)
- ì†ë§ˆìŒ í¬í•¨

### Scene Dashboard í‘œì‹œ (no_reaction)
- ê´€ì‹¬ ì—†ëŠ” ìºë¦­í„°ëŠ” ì†ë§ˆìŒë§Œ í‘œì‹œ
- Scene Dashboardì˜ ìºë¦­í„° ìƒíƒœì— í‘œì‹œ

## ğŸ“Š ì˜ˆìƒ ê²°ê³¼

### ì…ë ¥: "ë­ë¼ê³ ? ë‹¤ì‹œë§í•´ë´"

**ì±„íŒ…ì°½ (main_responses)**:
- ì£¼ì°½ìœ¤: "í•˜... ë­? ë‹¤ì‹œ ë§í•˜ë¼ê³ ?"
- (ìµœëŒ€ 2~3ëª…)

**ìƒê°ë€ (sub_reactions)**:
- í™©ì¸í•˜: "*í¥ë¯¸ë¡­ë‹¤ëŠ” ë“¯*"
- í‘œë‹¤ì€: "*ê±±ì •ìŠ¤ëŸ¬ìš´ í‘œì •*"
- (ë‚˜ë¨¸ì§€ ìºë¦­í„°ë“¤)

**Scene Dashboard (no_reaction)**:
- ë¯¼ì•„ë¦„: ğŸ’­ "ì‹œë„ëŸ¬ì›Œ..."
- (ê´€ì‹¬ ì—†ëŠ” ìºë¦­í„°)

---

**ìˆ˜ì • ì™„ë£Œ ë‚ ì§œ**: 2024ë…„
