# SYNK 창작자 스튜디오 설계 문서 v1.0

> **목적**: 창작자가 쉽고 편리하게 캐릭터와 작품을 만들 수 있는 환경 제공
> **핵심 원칙**: 창작자 편의성 + AI 최적화

---

## 📋 목차

1. [전체 구조](#1-전체-구조)
2. [작품 정보 페이지](#2-작품-정보-페이지)
3. [캐릭터 설정 페이지](#3-캐릭터-설정-페이지)
4. [이미지 갤러리 페이지](#4-이미지-갤러리-페이지)
5. [로어북 페이지](#5-로어북-페이지)
6. [오프닝 설정 페이지](#6-오프닝-설정-페이지)
7. [데이터 모델](#7-데이터-모델)
8. [API 설계](#8-api-설계)

---

# 1. 전체 구조

## 1.1 페이지 구성

```
SYNK 창작자 스튜디오
│
├── 1. 작품 정보
│   └── 썸네일, 제목, 소개, 태그, 공개설정
│
├── 2. 캐릭터 설정
│   └── 이름, 프로필 이미지, 통합 프롬프트
│
├── 3. 이미지 갤러리
│   └── 캐릭터별 이미지 관리, 키워드, 공유 링크
│
├── 4. 로어북
│   └── 키워드 기반 정보 + 고급 조건
│
└── 5. 오프닝 설정
    └── 기본 오프닝 + 추가 시작 상황
```

## 1.2 필수/선택 구분

| 페이지 | 필수 여부 | 설명 |
|--------|-----------|------|
| 작품 정보 | ✅ 필수 | 작품 공개에 필요한 기본 정보 |
| 캐릭터 설정 | ✅ 필수 | 최소 1명 이상 등록 |
| 이미지 갤러리 | 선택 | 추가 이미지 없이도 작동 |
| 로어북 | 선택 | 없어도 기본 대화 가능 |
| 오프닝 설정 | ✅ 필수 | 최소 1개 오프닝 필요 |

---

# 2. 작품 정보 페이지

## 2.1 UI 설계

```
┌─────────────────────────────────────────────────────────────────┐
│ 📝 작품 정보                                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  썸네일 이미지 *                                                │
│  ┌─────────────────┐                                            │
│  │                 │                                            │
│  │    [이미지]     │  💡 권장: 1:1 비율, 500x500px 이상         │
│  │     업로드      │     지원 형식: JPG, PNG, WEBP              │
│  │                 │                                            │
│  └─────────────────┘                                            │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  작품 제목 *                                                    │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 빌런과의 일상                                    (12/50자) │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  작품 소개 *                                                    │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 명월 아카데미 빌런과에 배정된 당신.                        │  │
│  │ 히어로가 되고 싶었지만, 현실은 빌런과의 문제아들 사이에서  │  │
│  │ 살아남아야 하는 처지.                                      │  │
│  │                                                            │  │
│  │ 과연 당신은 이곳에서 살아남을 수 있을까?                   │  │
│  │                                                 (156/500자) │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  태그 (최대 10개)                                               │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ [#학원물 ×] [#빌런 ×] [#멀티캐릭터 ×] [#생존 ×] [+ 추가]  │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  추천 태그:                                                     │
│  [#로맨스] [#액션] [#판타지] [#현대] [#하렘] [#능력자]          │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  타겟 유저                                                      │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  ○ 전체    ● 남성향    ○ 여성향                        │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  공개 설정                                                      │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  ○ 공개 (모든 사용자에게 노출)                          │    │
│  │  ● 비공개 (나만 볼 수 있음)                             │    │
│  │  ○ 링크 공유만 (링크를 아는 사람만 접근)                │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  성인 컨텐츠                                                    │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  ☐ 이 작품은 성인 컨텐츠를 포함합니다 (19금)            │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│                                                                 │
│                              [임시저장]  [다음: 캐릭터 설정 →]  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 2.2 입력 필드 상세

| 필드 | 타입 | 제한 | 필수 |
|------|------|------|------|
| 썸네일 | 이미지 | 최대 5MB, JPG/PNG/WEBP | ✅ |
| 제목 | 텍스트 | 최대 50자 | ✅ |
| 소개 | 텍스트 | 최대 500자 | ✅ |
| 태그 | 태그 배열 | 최대 10개 | 선택 |
| 타겟 유저 | 선택 | 전체/남성향/여성향 | ✅ |
| 공개 설정 | 선택 | 공개/비공개/링크공유 | ✅ |
| 성인 컨텐츠 | 체크박스 | - | 선택 |

---

# 3. 캐릭터 설정 페이지

## 3.1 UI 설계

```
┌─────────────────────────────────────────────────────────────────┐
│ 👤 캐릭터 설정                                     (1/10 캐릭터) │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  등록된 캐릭터                                                  │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │ [IMG] 주창윤        [편집] [삭제]                       │    │
│  │ [IMG] 황인하        [편집] [삭제]                       │    │
│  │ [IMG] 표다은        [편집] [삭제]                       │    │
│  │                                                         │    │
│  │              [+ 새 캐릭터 추가]                         │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

──────────────────────────────────────────────────────────────────

[캐릭터 편집 화면]

┌─────────────────────────────────────────────────────────────────┐
│ 👤 캐릭터 편집: 주창윤                                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────────────┐  캐릭터 이름 *                        │
│  │                      │  ┌────────────────────────────────┐   │
│  │    [프로필 이미지]   │  │ 주창윤                  (3/35자) │   │
│  │       업로드         │  └────────────────────────────────┘   │
│  │                      │                                       │
│  │  💡 1:1 비율 권장    │  ⚠️ 시뮬레이션 제목이 아닌            │
│  │                      │     캐릭터 실제 이름만 입력하세요     │
│  └──────────────────────┘                                       │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  캐릭터 프롬프트 *                                              │
│                                                                 │
│  [템플릿 불러오기 ▼]           [✨ AI 자동 생성]                │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ ## 기본 정보                                              │  │
│  │ - 이름: 주창윤                                            │  │
│  │ - 나이: 19세                                              │  │
│  │ - 소속: 명월 아카데미 빌런과 2학년                        │  │
│  │ - 외모: 날카로운 눈매, 검은 머리, 교복을 흐트러뜨려 입음  │  │
│  │                                                           │  │
│  │ ## 성격                                                   │  │
│  │ - 핵심: 오만함, 권위적, 약자 멸시, 강자에게 약함          │  │
│  │ - 재벌가 출신으로 자신보다 약한 사람을 깔본다             │  │
│  │ - 황인하처럼 강한 사람 앞에서는 기를 못 펴고 비위를 맞춤  │  │
│  │                                                           │  │
│  │ ## 말투                                                   │  │
│  │ - 스타일: 반말, 비꼬는 말투                               │  │
│  │ - 자주 쓰는 표현: "하...", "크큭", "웃기네", "약한 놈"    │  │
│  │ - 예시:                                                   │  │
│  │   - "하... 야. 문 닫아. 냄새 들어오잖아."                 │  │
│  │   - "크큭... 웃기네 진짜. 네깟 놈이 뭘 할 수 있는데?"     │  │
│  │                                                           │  │
│  │ ## 행동 지침                                              │  │
│  │ - 절대 하지 않을 것: 약자에게 친절, 먼저 사과             │  │
│  │ - 유저가 강하게 나오면: 처음엔 허세, 밀리면 물러남        │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                  (1,247/16,000자)│
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  💡 프롬프트 작성 팁                                            │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ • ## 헤더로 섹션을 구분하면 AI가 더 잘 이해합니다         │  │
│  │ • - 목록으로 정보를 나열하세요                            │  │
│  │ • 구체적인 말투 예시를 포함하면 캐릭터가 안정됩니다       │  │
│  │ • {{user}}는 유저 닉네임, {{char}}는 캐릭터 이름으로 변환 │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│                                                                 │
│                                       [취소]  [캐릭터 저장]     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 3.2 템플릿 옵션

```
[템플릿 불러오기 ▼]
┌───────────────────────────────────┐
│ • 기본 템플릿 (추천)              │
│ • 츤데레 캐릭터                   │
│ • 냉정한 캐릭터                   │
│ • 밝고 친절한 캐릭터              │
│ • 미스터리한 캐릭터               │
│ • 빈 템플릿 (직접 작성)           │
└───────────────────────────────────┘
```

## 3.3 AI 자동 생성 모달

```
┌─────────────────────────────────────────────────────────────────┐
│ ✨ AI 캐릭터 자동 생성                                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  캐릭터를 간단히 설명해주세요:                                  │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 재벌가 아들인데 찌질하고 약자한테만 강한 빌런과 학생.     │  │
│  │ 황인하라는 여자 선배를 짝사랑함                           │  │
│  │                                                 (0/200자)  │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  성격 키워드 (선택)                                             │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ ☑️ 오만함   ☑️ 찌질함   ☐ 츤데레   ☐ 냉정   ☑️ 허세      │  │
│  │ ☐ 친절함   ☐ 무뚝뚝   ☐ 장난꾸러기  ☐ 신비로움           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  말투 스타일                                                    │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ ● 반말    ○ 존댓말    ○ 상황에 따라                      │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│                                                                 │
│                                        [취소]  [생성하기]       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

# 4. 이미지 갤러리 페이지

## 4.1 UI 설계 (개선)

```
┌─────────────────────────────────────────────────────────────────┐
│ 🖼️ 이미지 갤러리                                    (12/100장)   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  💡 이미지 사용 방법                                            │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 오프닝이나 로어북에서 아래 형식으로 이미지를 삽입하세요:  │  │
│  │ {{img::캐릭터명::키워드}} 또는 {{img::키워드}}             │  │
│  │ 예시: {{img::주창윤::angry}} → 주창윤의 화난 이미지 출력  │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  캐릭터 필터: [전체 ▼]  [주창윤] [황인하] [표다은] [배경/기타]  │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │                                                         │    │
│  │  📁 주창윤 (5장)                              [펼치기 ▼] │    │
│  │  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐ │    │
│  │  │ [IMG]  │ │ [IMG]  │ │ [IMG]  │ │ [IMG]  │ │ [IMG]  │ │    │
│  │  │profile │ │ angry  │ │ smirk  │ │ scared │ │ shy    │ │    │
│  │  └────────┘ └────────┘ └────────┘ └────────┘ └────────┘ │    │
│  │                                                         │    │
│  │  📁 황인하 (4장)                              [펼치기 ▼] │    │
│  │  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐            │    │
│  │  │ [IMG]  │ │ [IMG]  │ │ [IMG]  │ │ [IMG]  │            │    │
│  │  │profile │ │ cold   │ │ smile  │ │ angry  │            │    │
│  │  └────────┘ └────────┘ └────────┘ └────────┘            │    │
│  │                                                         │    │
│  │  📁 배경/기타 (3장)                           [펼치기 ▼] │    │
│  │  ┌────────┐ ┌────────┐ ┌────────┐                       │    │
│  │  │ [IMG]  │ │ [IMG]  │ │ [IMG]  │                       │    │
│  │  │ lobby  │ │training│ │ dorm   │                       │    │
│  │  └────────┘ └────────┘ └────────┘                       │    │
│  │                                                         │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│                        [+ 이미지 추가]                          │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 4.2 이미지 추가/편집 모달

```
┌─────────────────────────────────────────────────────────────────┐
│ 🖼️ 이미지 추가                                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  이미지 업로드 *                                                │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                                                           │  │
│  │              [이미지를 드래그하거나 클릭하여 업로드]       │  │
│  │                                                           │  │
│  │              지원 형식: JPG, PNG, WEBP, GIF                │  │
│  │              최대 크기: 5MB                                │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  캐릭터 선택 *                                                  │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ [주창윤              ▼]                                   │  │
│  │  ├ 주창윤                                                 │  │
│  │  ├ 황인하                                                 │  │
│  │  ├ 표다은                                                 │  │
│  │  └ 배경/기타                                              │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  이미지 키워드 *                                                │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ angry                                             (5/30자) │  │
│  └───────────────────────────────────────────────────────────┘  │
│  💡 영문, 숫자, 언더바(_)만 사용 가능                           │
│                                                                 │
│  이미지 설명 (선택)                                             │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 화난 표정, 눈을 부릅뜨고 있음                    (0/100자) │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  📋 자동 생성된 정보                                            │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                                                           │  │
│  │  사용 코드:                                               │  │
│  │  ┌─────────────────────────────────────────────────────┐  │  │
│  │  │ {{img::주창윤::angry}}                      [복사 📋] │  │  │
│  │  └─────────────────────────────────────────────────────┘  │  │
│  │                                                           │  │
│  │  미리보기 링크:                                           │  │
│  │  ┌─────────────────────────────────────────────────────┐  │  │
│  │  │ https://synk.app/img/작품ID/주창윤_angry   [복사 🔗] │  │  │
│  │  └─────────────────────────────────────────────────────┘  │  │
│  │                                                           │  │
│  │  💡 이 링크를 공유하면 누구나 이미지를 미리 볼 수 있습니다 │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│                                                                 │
│                                        [취소]  [저장]           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 4.3 이미지 카드 상세 (클릭 시)

```
┌─────────────────────────────────────────────────────────────────┐
│ 🖼️ 이미지 상세: 주창윤 - angry                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────┐                            │
│  │                                 │                            │
│  │                                 │                            │
│  │         [이미지 미리보기]       │                            │
│  │                                 │                            │
│  │                                 │                            │
│  └─────────────────────────────────┘                            │
│                                                                 │
│  캐릭터: 주창윤                                                 │
│  키워드: angry                                                  │
│  설명: 화난 표정, 눈을 부릅뜨고 있음                            │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  📋 빠른 복사                                                   │
│                                                                 │
│  사용 코드                                                      │
│  ┌────────────────────────────────────────────┐                 │
│  │ {{img::주창윤::angry}}             [복사 📋]│                 │
│  └────────────────────────────────────────────┘                 │
│                                                                 │
│  미리보기 링크                                                  │
│  ┌────────────────────────────────────────────┐                 │
│  │ https://synk.app/img/abc123/...    [복사 🔗]│                 │
│  └────────────────────────────────────────────┘                 │
│                                                                 │
│                                                                 │
│                                [편집]  [삭제]  [닫기]           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 4.4 이미지 URL 규칙

```
기본 형식:
https://synk.app/img/{작품ID}/{캐릭터명}_{키워드}

예시:
https://synk.app/img/abc123/주창윤_angry
https://synk.app/img/abc123/주창윤_profile
https://synk.app/img/abc123/황인하_smile
https://synk.app/img/abc123/lobby  (배경/기타)
```

---

# 5. 로어북 페이지

## 5.1 UI 설계

```
┌─────────────────────────────────────────────────────────────────┐
│ 📚 로어북                                            (5/100개)   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  💡 로어북이란?                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 대화 중 특정 키워드가 언급되면 자동으로 활성화되는        │  │
│  │ 추가 정보입니다. 캐릭터의 비밀, 과거, 관계 등을 설정하세요.│  │
│  │                                                           │  │
│  │ ⚠️ 주의: 중요한 정보일수록 위로 배치하세요                 │  │
│  │    (최대 5개 동시 활성화, 상위 우선)                       │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  [드래그하여 우선순위 변경]                                     │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ ≡ #1 황인하와의 관계                                      │  │
│  │   키워드: 황인하, 인하 누나, 인하                         │  │
│  │   조건: 없음                                              │  │
│  │                                         [편집] [삭제]     │  │
│  ├───────────────────────────────────────────────────────────┤  │
│  │ ≡ #2 백호 금융의 비밀                                     │  │
│  │   키워드: 백호 금융, 아버지, 집안                         │  │
│  │   조건: 친밀도 3↑, 10턴↑                                 │  │
│  │                                         [편집] [삭제]     │  │
│  ├───────────────────────────────────────────────────────────┤  │
│  │ ≡ #3 과거의 트라우마                                      │  │
│  │   키워드: 과거, 어렸을 때, 트라우마                       │  │
│  │   조건: 친밀도 5↑                                        │  │
│  │                                         [편집] [삭제]     │  │
│  ├───────────────────────────────────────────────────────────┤  │
│  │ ≡ #4 비밀 훈련장                                          │  │
│  │   키워드: 훈련장, 지하, 비밀                              │  │
│  │   조건: 황인하 동석 시                                    │  │
│  │                                         [편집] [삭제]     │  │
│  ├───────────────────────────────────────────────────────────┤  │
│  │ ≡ #5 고백 실패 사건                                       │  │
│  │   키워드: 고백, 좋아한다, 사귀자                          │  │
│  │   조건: 친밀도 7↑, 20턴↑, 황인하 동석                    │  │
│  │                                         [편집] [삭제]     │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│                        [+ 로어 추가]                            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 5.2 로어 편집 모달 (고급 조건 하단 배치)

```
┌─────────────────────────────────────────────────────────────────┐
│ 📝 로어 편집                                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  로어 이름 *                                                    │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 황인하와의 관계                                   (0/80자) │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  활성화 키워드 * (쉼표로 구분)                                  │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 황인하, 인하 누나, 인하                                   │  │
│  └───────────────────────────────────────────────────────────┘  │
│  💡 최근 3턴 대화에 키워드가 포함되면 활성화됩니다              │
│                                                                 │
│  ⚠️ "회사", "학교" 같은 흔한 단어는 피하세요                    │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  로어 내용 *                                                    │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ ### 황인하와의 관계                                       │  │
│  │                                                           │  │
│  │ - 관계: 일방적 짝사랑 (본인은 부정함)                     │  │
│  │ - 태도: 황인하 앞에서는 기를 못 펴고 비위를 맞춤          │  │
│  │ - 호칭: "인하 누나"                                       │  │
│  │ - 질투: 황인하가 다른 사람에게 관심 보이면 극도로 예민    │  │
│  │ - 비밀: 과거에 고백하려다 실패한 적이 있음                │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                  (0/4,500자)    │
│                                                                 │
│  💡 ### 헤더로 시작하면 AI가 정보의 위계를 더 잘 파악합니다     │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  ▼ 고급 조건 (선택)                                             │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                                                           │  │
│  │  ☐ 친밀도 조건                                            │  │
│  │    └ 친밀도 [    ] 이상일 때만 활성화                     │  │
│  │                                                           │  │
│  │  ☐ 대화 턴 조건                                           │  │
│  │    └ [    ]턴 이상 대화 후 활성화                         │  │
│  │                                                           │  │
│  │  ☐ 특정 캐릭터 동석 조건 (멀티 캐릭터용)                  │  │
│  │    └ [황인하         ▼] 가 같은 장소에 있을 때            │  │
│  │                                                           │  │
│  │  💡 조건을 조합하면 친해져야만 알 수 있는 비밀을           │  │
│  │     설정할 수 있습니다                                    │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│                                                                 │
│                                        [취소]  [저장]           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

# 6. 오프닝 설정 페이지

## 6.1 UI 설계

```
┌─────────────────────────────────────────────────────────────────┐
│ 🎬 오프닝 설정                                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  💡 오프닝이란?                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 유저가 처음 시작할 때 보게 되는 장면입니다.               │  │
│  │ 여러 개를 만들면 유저가 선택하거나 랜덤으로 시작합니다.   │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  기본 오프닝 (필수) *                                           │
│                                                                 │
│  제목                                                           │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 베타 동 로비에서 첫 만남                          (0/50자) │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  오프닝 내용 *                                                  │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ {{img::주창윤::profile}}                                  │  │
│  │                                                           │  │
│  │ *베타 동 로비. 낡은 건물 안으로 들어서자 퀴퀴한 냄새와    │  │
│  │ 함께 날카로운 시선이 느껴진다.*                           │  │
│  │                                                           │  │
│  │ 벽에 기대어 껌을 씹고 있던 남자가 고개를 들어 당신을      │  │
│  │ 훑어본다.                                                 │  │
│  │                                                           │  │
│  │ "하... 야. 문 닫아. 냄새 들어오잖아."                     │  │
│  │ "...뭐야 이 맹하게 생긴 놈은? 신입이냐?"                  │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                  (0/5,500자)    │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  💡 이미지 삽입 팁                                              │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ • {{img::캐릭터명::키워드}} → 갤러리 이미지 삽입          │  │
│  │   예: {{img::주창윤::angry}}                              │  │
│  │                                                           │  │
│  │ • {{img::캐릭터명::profile}} → 프로필 이미지 삽입         │  │
│  │   예: {{img::주창윤::profile}}                            │  │
│  │                                                           │  │
│  │ • {{user}} → 유저 닉네임으로 자동 변환                    │  │
│  │ • {{char}} → 캐릭터 이름으로 자동 변환                    │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  추가 시작 상황 (선택)                                 (2/10개) │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ #1 훈련장에서 마주침                                      │  │
│  │ "훈련장 구석에서 샌드백을 치고 있는 모습..."              │  │
│  │                                         [편집] [삭제]     │  │
│  ├───────────────────────────────────────────────────────────┤  │
│  │ #2 옥상에서의 조우                                        │  │
│  │ "담배를 피우고 있던 그가 당신을 발견하고..."              │  │
│  │                                         [편집] [삭제]     │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│                     [+ 시작 상황 추가]                          │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  📱 유저 시작 화면 미리보기                                     │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │  ┌─────────────────────────────────────────────────────┐  │  │
│  │  │                                                     │  │  │
│  │  │   시작 상황을 선택하세요                            │  │  │
│  │  │                                                     │  │  │
│  │  │   ● 베타 동 로비에서 첫 만남 (기본)                 │  │  │
│  │  │   ○ 훈련장에서 마주침                               │  │  │
│  │  │   ○ 옥상에서의 조우                                 │  │  │
│  │  │                                                     │  │  │
│  │  │                          [시작하기]                 │  │  │
│  │  │                                                     │  │  │
│  │  └─────────────────────────────────────────────────────┘  │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│                                                                 │
│                              [임시저장]  [작품 발행하기 →]      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

# 7. 데이터 모델

## 7.1 작품 (Work)

```python
class Work(BaseModel):
    """작품 정보"""
    
    # 기본 정보
    work_id: str                    # UUID
    creator_id: str                 # 창작자 ID
    
    # 작품 정보
    title: str                      # 제목 (최대 50자)
    description: str                # 소개 (최대 500자)
    thumbnail_url: str              # 썸네일 이미지 URL
    tags: List[str]                 # 태그 (최대 10개)
    
    # 설정
    target_audience: str            # "all" | "male" | "female"
    visibility: str                 # "public" | "private" | "unlisted"
    is_adult: bool                  # 성인 컨텐츠 여부
    
    # 통계
    view_count: int = 0
    like_count: int = 0
    play_count: int = 0
    
    # 메타
    created_at: datetime
    updated_at: datetime
    published_at: Optional[datetime]
```

## 7.2 캐릭터 (Character)

```python
class Character(BaseModel):
    """캐릭터 정보"""
    
    # 기본 정보
    character_id: str               # UUID
    work_id: str                    # 작품 ID
    
    # 캐릭터 정보
    name: str                       # 이름 (최대 35자)
    profile_image_url: str          # 프로필 이미지 URL
    prompt: str                     # 캐릭터 프롬프트 (최대 16,000자)
    
    # 메타
    created_at: datetime
    updated_at: datetime
```

## 7.3 이미지 갤러리 (GalleryImage)

```python
class GalleryImage(BaseModel):
    """갤러리 이미지"""
    
    # 기본 정보
    image_id: str                   # UUID
    work_id: str                    # 작품 ID
    
    # 이미지 정보
    character_name: Optional[str]   # 캐릭터 이름 (None이면 배경/기타)
    keyword: str                    # 키워드 (영문, 숫자, 언더바)
    image_url: str                  # 이미지 URL
    description: Optional[str]      # 설명 (최대 100자)
    
    # 자동 생성
    usage_code: str                 # "{{img::캐릭터명::키워드}}"
    preview_url: str                # 미리보기 링크
    
    # 메타
    created_at: datetime
```

## 7.4 로어북 (Lorebook)

```python
class LorebookEntry(BaseModel):
    """로어북 항목"""
    
    # 기본 정보
    entry_id: str                   # UUID
    work_id: str                    # 작품 ID
    
    # 로어 정보
    name: str                       # 로어 이름 (최대 80자)
    keywords: List[str]             # 활성화 키워드
    content: str                    # 로어 내용 (최대 4,500자)
    priority: int                   # 우선순위 (낮을수록 높음)
    
    # 고급 조건
    conditions: Optional[LorebookCondition]
    
    # 메타
    created_at: datetime
    updated_at: datetime


class LorebookCondition(BaseModel):
    """로어북 활성화 조건"""
    
    min_intimacy: Optional[float]   # 최소 친밀도
    min_turns: Optional[int]        # 최소 턴 수
    required_character: Optional[str]  # 동석 필요 캐릭터
```

## 7.5 오프닝 (Opening)

```python
class Opening(BaseModel):
    """오프닝"""
    
    # 기본 정보
    opening_id: str                 # UUID
    work_id: str                    # 작품 ID
    
    # 오프닝 정보
    title: str                      # 제목 (최대 50자)
    content: str                    # 내용 (최대 5,500자)
    is_default: bool                # 기본 오프닝 여부
    order: int                      # 표시 순서
    
    # 메타
    created_at: datetime
    updated_at: datetime
```

---

# 8. API 설계

## 8.1 작품 API

```
# 작품 CRUD
POST   /api/creator/works                    # 작품 생성
GET    /api/creator/works                    # 내 작품 목록
GET    /api/creator/works/{work_id}          # 작품 상세
PUT    /api/creator/works/{work_id}          # 작품 수정
DELETE /api/creator/works/{work_id}          # 작품 삭제

# 작품 발행
POST   /api/creator/works/{work_id}/publish  # 작품 발행
POST   /api/creator/works/{work_id}/unpublish # 작품 비공개
```

## 8.2 캐릭터 API

```
# 캐릭터 CRUD
POST   /api/creator/works/{work_id}/characters           # 캐릭터 추가
GET    /api/creator/works/{work_id}/characters           # 캐릭터 목록
GET    /api/creator/works/{work_id}/characters/{char_id} # 캐릭터 상세
PUT    /api/creator/works/{work_id}/characters/{char_id} # 캐릭터 수정
DELETE /api/creator/works/{work_id}/characters/{char_id} # 캐릭터 삭제

# AI 자동 생성
POST   /api/creator/characters/generate                   # AI 캐릭터 생성
```

## 8.3 이미지 갤러리 API

```
# 이미지 CRUD
POST   /api/creator/works/{work_id}/images               # 이미지 업로드
GET    /api/creator/works/{work_id}/images               # 이미지 목록
GET    /api/creator/works/{work_id}/images/{image_id}    # 이미지 상세
PUT    /api/creator/works/{work_id}/images/{image_id}    # 이미지 수정
DELETE /api/creator/works/{work_id}/images/{image_id}    # 이미지 삭제

# 이미지 미리보기 (공개)
GET    /img/{work_id}/{filename}                          # 이미지 미리보기
```

## 8.4 로어북 API

```
# 로어북 CRUD
POST   /api/creator/works/{work_id}/lorebook             # 로어 추가
GET    /api/creator/works/{work_id}/lorebook             # 로어 목록
PUT    /api/creator/works/{work_id}/lorebook/{entry_id}  # 로어 수정
DELETE /api/creator/works/{work_id}/lorebook/{entry_id}  # 로어 삭제

# 우선순위 변경
PUT    /api/creator/works/{work_id}/lorebook/reorder     # 순서 변경
```

## 8.5 오프닝 API

```
# 오프닝 CRUD
POST   /api/creator/works/{work_id}/openings             # 오프닝 추가
GET    /api/creator/works/{work_id}/openings             # 오프닝 목록
PUT    /api/creator/works/{work_id}/openings/{opening_id} # 오프닝 수정
DELETE /api/creator/works/{work_id}/openings/{opening_id} # 오프닝 삭제

# 기본 오프닝 설정
PUT    /api/creator/works/{work_id}/openings/{opening_id}/set-default
```

---

# 부록: 변수 및 이미지 코드 참조

## 변수

| 변수 | 설명 | 사용 위치 |
|------|------|-----------|
| `{{user}}` | 유저 닉네임 | 프롬프트, 오프닝, 로어북 |
| `{{char}}` | 캐릭터 이름 | 프롬프트, 오프닝, 로어북 |

## 이미지 코드

| 코드 | 설명 | 예시 |
|------|------|------|
| `{{img::키워드}}` | 배경/기타 이미지 | `{{img::lobby}}` |
| `{{img::캐릭터::키워드}}` | 캐릭터 이미지 | `{{img::주창윤::angry}}` |
| `{{img::캐릭터::profile}}` | 프로필 이미지 | `{{img::주창윤::profile}}` |

---

# 부록: 프롬프트 작성 가이드

## 권장 구조

```markdown
## 기본 정보
- 이름: 
- 나이: 
- 소속: 
- 외모: 

## 성격
- 핵심: (3~5개 키워드)
- 상세 설명

## 말투
- 스타일: 
- 자주 쓰는 표현: 
- 예시:
  - "예시 대사 1"
  - "예시 대사 2"

## 행동 지침
- 절대 하지 않을 것: 
- 특수 상황 반응: 
```

## 주의사항

1. **구체적으로 작성**: "느낌 있는" 대신 "3인칭 전지적 시점"
2. **예시 포함**: 말투 예시 2~3개 필수
3. **금지 행동 명시**: 캐릭터가 절대 하지 않을 것
4. **마크다운 사용**: ## 헤더, - 목록 활용

---

**문서 버전**: v1.0  
**작성일**: 2025년  
**작성자**: SYNK 팀
